{"id":"epB2","dependencies":[{"name":"/Users/Sammi/Documents/jsd/Final_Project/WhatCanIEatVegan/package.json","includedInParent":true,"mtime":1586908351968}],"generated":{"js":"$(function(){console.log(\"Its working\"),$(\"button\").click(async()=>{console.log(\"button pushed\");const n=$(\"#searchBar\").val();console.log(n),async function(n){const t=await async function(n){try{const e=\"https://api.spoonacular.com/recipes/search\",a=await axios.get(e,{params:{query:n,apiKey:\"502be8db956a4d2581735d3ceced3501\",diet:\"vegan\"}});return a.data.results}catch(t){console.log(t),alert(\"an error has occurred, please try again\")}}(n);console.log(t),detailedRecipes=await Promise.all(t.map(async n=>{const t=await async function(n){try{const e=`https://api.spoonacular.com/recipes/${n}/information`,a=await axios.get(e,{params:{apiKey:\"502be8db956a4d2581735d3ceced3501\",includeNutrition:!0}});return a.data}catch(t){console.log(t),alert(\"an error has occurred, please try again\")}}(n.id);return t})),console.log(detailedRecipes),function(n){const t=n.map(n=>(console.log(n),function(n,t,e,a,o,c){return`<tr>\\n        <td> \\n          <a href=\"${c}\">${n}</a>\\n        </td>\\n        <td>${t}</td>\\n        <td>${e}</td>\\n        <td>${a}</td>\\n        <td>\\n          <img src=\"${o}\"/>\\n        </td>\\n      </tr>\\n      `}(n.title,\"vegan\",`${n.readyInMinutes} mins`,`${n.servings} servings`,n.image,n.sourceUrl)));console.log(t),$(\"tbody\").html(t)}(detailedRecipes)}(n),function(){const n=$(\"#searchbar\").val();console.log(n),$(\"ul\").text(n)}()})});"},"sourceMaps":{"js":{"mappings":[{"source":"main.js","name":"$","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"main.js","original":{"line":1,"column":2},"generated":{"line":1,"column":2}},{"source":"main.js","name":"console","original":{"line":2,"column":2},"generated":{"line":1,"column":13}},{"source":"main.js","name":"log","original":{"line":2,"column":10},"generated":{"line":1,"column":21}},{"source":"main.js","original":{"line":2,"column":14},"generated":{"line":1,"column":25}},{"source":"main.js","name":"$","original":{"line":6,"column":2},"generated":{"line":1,"column":40}},{"source":"main.js","original":{"line":6,"column":4},"generated":{"line":1,"column":42}},{"source":"main.js","name":"click","original":{"line":6,"column":14},"generated":{"line":1,"column":52}},{"source":"main.js","original":{"line":6,"column":20},"generated":{"line":1,"column":58}},{"source":"main.js","name":"console","original":{"line":7,"column":4},"generated":{"line":1,"column":68}},{"source":"main.js","name":"log","original":{"line":7,"column":12},"generated":{"line":1,"column":76}},{"source":"main.js","original":{"line":7,"column":16},"generated":{"line":1,"column":80}},{"source":"main.js","name":"newIngredient","original":{"line":9,"column":10},"generated":{"line":1,"column":97}},{"source":"main.js","name":"newIngredient","original":{"line":9,"column":10},"generated":{"line":1,"column":103}},{"source":"main.js","name":"$","original":{"line":9,"column":26},"generated":{"line":1,"column":105}},{"source":"main.js","original":{"line":9,"column":28},"generated":{"line":1,"column":107}},{"source":"main.js","name":"val","original":{"line":9,"column":42},"generated":{"line":1,"column":121}},{"source":"main.js","name":"console","original":{"line":10,"column":4},"generated":{"line":1,"column":127}},{"source":"main.js","name":"log","original":{"line":10,"column":12},"generated":{"line":1,"column":135}},{"source":"main.js","name":"newIngredient","original":{"line":10,"column":16},"generated":{"line":1,"column":139}},{"source":"main.js","name":"processRequest","original":{"line":17,"column":17},"generated":{"line":1,"column":142}},{"source":"main.js","name":"ingredient","original":{"line":17,"column":32},"generated":{"line":1,"column":157}},{"source":"main.js","name":"recipes","original":{"line":18,"column":10},"generated":{"line":1,"column":160}},{"source":"main.js","name":"recipes","original":{"line":18,"column":10},"generated":{"line":1,"column":166}},{"source":"main.js","name":"getRecipes","original":{"line":34,"column":17},"generated":{"line":1,"column":174}},{"source":"main.js","name":"query","original":{"line":34,"column":28},"generated":{"line":1,"column":189}},{"source":"main.js","original":{"line":35,"column":8},"generated":{"line":1,"column":192}},{"source":"main.js","name":"url","original":{"line":36,"column":12},"generated":{"line":1,"column":196}},{"source":"main.js","name":"url","original":{"line":36,"column":12},"generated":{"line":1,"column":202}},{"source":"main.js","original":{"line":36,"column":18},"generated":{"line":1,"column":204}},{"source":"main.js","name":"response","original":{"line":38,"column":12},"generated":{"line":1,"column":249}},{"source":"main.js","name":"axios","original":{"line":38,"column":29},"generated":{"line":1,"column":257}},{"source":"main.js","name":"get","original":{"line":38,"column":35},"generated":{"line":1,"column":263}},{"source":"main.js","name":"url","original":{"line":38,"column":39},"generated":{"line":1,"column":267}},{"source":"main.js","original":{"line":38,"column":44},"generated":{"line":1,"column":269}},{"source":"main.js","name":"params","original":{"line":39,"column":8},"generated":{"line":1,"column":270}},{"source":"main.js","original":{"line":39,"column":16},"generated":{"line":1,"column":277}},{"source":"main.js","name":"query","original":{"line":40,"column":10},"generated":{"line":1,"column":278}},{"source":"main.js","name":"query","original":{"line":40,"column":17},"generated":{"line":1,"column":284}},{"source":"main.js","name":"apiKey","original":{"line":41,"column":10},"generated":{"line":1,"column":286}},{"source":"main.js","original":{"line":39,"column":16},"generated":{"line":1,"column":293}},{"source":"main.js","name":"diet","original":{"line":42,"column":10},"generated":{"line":1,"column":328}},{"source":"main.js","original":{"line":42,"column":16},"generated":{"line":1,"column":333}},{"source":"main.js","name":"response","original":{"line":48,"column":13},"generated":{"line":1,"column":344}},{"source":"main.js","name":"response","original":{"line":48,"column":13},"generated":{"line":1,"column":351}},{"source":"main.js","name":"data","original":{"line":48,"column":22},"generated":{"line":1,"column":353}},{"source":"main.js","name":"results","original":{"line":48,"column":27},"generated":{"line":1,"column":358}},{"source":"main.js","original":{"line":54,"column":6},"generated":{"line":1,"column":366}},{"source":"main.js","name":"error","original":{"line":54,"column":13},"generated":{"line":1,"column":372}},{"source":"main.js","name":"console","original":{"line":55,"column":6},"generated":{"line":1,"column":375}},{"source":"main.js","name":"log","original":{"line":55,"column":14},"generated":{"line":1,"column":383}},{"source":"main.js","name":"error","original":{"line":55,"column":18},"generated":{"line":1,"column":387}},{"source":"main.js","name":"alert","original":{"line":56,"column":6},"generated":{"line":1,"column":390}},{"source":"main.js","original":{"line":56,"column":12},"generated":{"line":1,"column":396}},{"source":"main.js","name":"getRecipes","original":{"line":18,"column":26},"generated":{"line":1,"column":440}},{"source":"main.js","name":"ingredient","original":{"line":18,"column":37},"generated":{"line":1,"column":441}},{"source":"main.js","name":"console","original":{"line":19,"column":4},"generated":{"line":1,"column":444}},{"source":"main.js","name":"log","original":{"line":19,"column":12},"generated":{"line":1,"column":452}},{"source":"main.js","name":"recipes","original":{"line":19,"column":16},"generated":{"line":1,"column":456}},{"source":"main.js","name":"detailedRecipes","original":{"line":23,"column":4},"generated":{"line":1,"column":459}},{"source":"main.js","name":"Promise","original":{"line":23,"column":28},"generated":{"line":1,"column":481}},{"source":"main.js","name":"all","original":{"line":23,"column":36},"generated":{"line":1,"column":489}},{"source":"main.js","name":"recipes","original":{"line":24,"column":6},"generated":{"line":1,"column":493}},{"source":"main.js","name":"map","original":{"line":24,"column":14},"generated":{"line":1,"column":495}},{"source":"main.js","original":{"line":24,"column":18},"generated":{"line":1,"column":499}},{"source":"main.js","original":{"line":24,"column":18},"generated":{"line":1,"column":505}},{"source":"main.js","name":"newRecipe","original":{"line":25,"column":14},"generated":{"line":1,"column":509}},{"source":"main.js","name":"newRecipe","original":{"line":25,"column":14},"generated":{"line":1,"column":515}},{"source":"main.js","name":"getRecipeDetail","original":{"line":60,"column":17},"generated":{"line":1,"column":523}},{"source":"main.js","name":"recipeId","original":{"line":60,"column":34},"generated":{"line":1,"column":538}},{"source":"main.js","original":{"line":61,"column":8},"generated":{"line":1,"column":541}},{"source":"main.js","name":"url","original":{"line":62,"column":12},"generated":{"line":1,"column":545}},{"source":"main.js","name":"url","original":{"line":62,"column":12},"generated":{"line":1,"column":551}},{"source":"main.js","name":"recipeId","original":{"line":62,"column":57},"generated":{"line":1,"column":592}},{"source":"main.js","name":"response","original":{"line":64,"column":12},"generated":{"line":1,"column":608}},{"source":"main.js","name":"axios","original":{"line":64,"column":29},"generated":{"line":1,"column":616}},{"source":"main.js","name":"get","original":{"line":64,"column":35},"generated":{"line":1,"column":622}},{"source":"main.js","name":"url","original":{"line":64,"column":39},"generated":{"line":1,"column":626}},{"source":"main.js","original":{"line":64,"column":44},"generated":{"line":1,"column":628}},{"source":"main.js","name":"params","original":{"line":65,"column":8},"generated":{"line":1,"column":629}},{"source":"main.js","original":{"line":65,"column":16},"generated":{"line":1,"column":636}},{"source":"main.js","name":"apiKey","original":{"line":66,"column":10},"generated":{"line":1,"column":637}},{"source":"main.js","original":{"line":65,"column":16},"generated":{"line":1,"column":644}},{"source":"main.js","name":"includeNutrition","original":{"line":67,"column":10},"generated":{"line":1,"column":679}},{"source":"main.js","original":{"line":67,"column":28},"generated":{"line":1,"column":697}},{"source":"main.js","name":"response","original":{"line":71,"column":13},"generated":{"line":1,"column":702}},{"source":"main.js","name":"response","original":{"line":71,"column":13},"generated":{"line":1,"column":709}},{"source":"main.js","name":"data","original":{"line":71,"column":22},"generated":{"line":1,"column":711}},{"source":"main.js","original":{"line":72,"column":6},"generated":{"line":1,"column":716}},{"source":"main.js","name":"error","original":{"line":72,"column":13},"generated":{"line":1,"column":722}},{"source":"main.js","name":"console","original":{"line":73,"column":8},"generated":{"line":1,"column":725}},{"source":"main.js","name":"log","original":{"line":73,"column":16},"generated":{"line":1,"column":733}},{"source":"main.js","name":"error","original":{"line":73,"column":20},"generated":{"line":1,"column":737}},{"source":"main.js","name":"alert","original":{"line":74,"column":8},"generated":{"line":1,"column":740}},{"source":"main.js","original":{"line":74,"column":14},"generated":{"line":1,"column":746}},{"source":"main.js","name":"getRecipeDetail","original":{"line":25,"column":32},"generated":{"line":1,"column":790}},{"source":"main.js","name":"recipe","original":{"line":25,"column":48},"generated":{"line":1,"column":791}},{"source":"main.js","name":"id","original":{"line":25,"column":55},"generated":{"line":1,"column":793}},{"source":"main.js","name":"newRecipe","original":{"line":26,"column":15},"generated":{"line":1,"column":797}},{"source":"main.js","name":"newRecipe","original":{"line":26,"column":15},"generated":{"line":1,"column":804}},{"source":"main.js","name":"console","original":{"line":30,"column":4},"generated":{"line":1,"column":809}},{"source":"main.js","name":"log","original":{"line":30,"column":12},"generated":{"line":1,"column":817}},{"source":"main.js","name":"detailedRecipes","original":{"line":30,"column":16},"generated":{"line":1,"column":821}},{"source":"main.js","name":"displayRecipes","original":{"line":78,"column":11},"generated":{"line":1,"column":838}},{"source":"main.js","name":"recipes","original":{"line":78,"column":27},"generated":{"line":1,"column":847}},{"source":"main.js","name":"itemsHtml","original":{"line":79,"column":10},"generated":{"line":1,"column":850}},{"source":"main.js","name":"itemsHtml","original":{"line":79,"column":10},"generated":{"line":1,"column":856}},{"source":"main.js","name":"recipes","original":{"line":79,"column":22},"generated":{"line":1,"column":858}},{"source":"main.js","name":"map","original":{"line":79,"column":30},"generated":{"line":1,"column":860}},{"source":"main.js","name":"recipe","original":{"line":79,"column":35},"generated":{"line":1,"column":864}},{"source":"main.js","name":"console","original":{"line":80,"column":6},"generated":{"line":1,"column":868}},{"source":"main.js","name":"log","original":{"line":80,"column":14},"generated":{"line":1,"column":876}},{"source":"main.js","name":"recipe","original":{"line":80,"column":18},"generated":{"line":1,"column":880}},{"source":"main.js","name":"recipeListItemHtml","original":{"line":87,"column":11},"generated":{"line":1,"column":883}},{"source":"main.js","name":"name","original":{"line":87,"column":30},"generated":{"line":1,"column":892}},{"source":"main.js","name":"diet","original":{"line":87,"column":36},"generated":{"line":1,"column":894}},{"source":"main.js","name":"duration","original":{"line":87,"column":42},"generated":{"line":1,"column":896}},{"source":"main.js","name":"servings","original":{"line":87,"column":52},"generated":{"line":1,"column":898}},{"source":"main.js","name":"image","original":{"line":87,"column":62},"generated":{"line":1,"column":900}},{"source":"main.js","name":"url","original":{"line":87,"column":69},"generated":{"line":1,"column":902}},{"source":"main.js","original":{"line":89,"column":7},"generated":{"line":1,"column":905}},{"source":"main.js","name":"url","original":{"line":91,"column":21},"generated":{"line":1,"column":954}},{"source":"main.js","name":"name","original":{"line":91,"column":29},"generated":{"line":1,"column":960}},{"source":"main.js","name":"diet","original":{"line":93,"column":14},"generated":{"line":1,"column":997}},{"source":"main.js","name":"duration","original":{"line":94,"column":14},"generated":{"line":1,"column":1020}},{"source":"main.js","name":"servings","original":{"line":95,"column":14},"generated":{"line":1,"column":1043}},{"source":"main.js","name":"image","original":{"line":97,"column":22},"generated":{"line":1,"column":1088}},{"source":"main.js","name":"recipeListItemHtml","original":{"line":81,"column":13},"generated":{"line":1,"column":1131}},{"source":"main.js","name":"recipe","original":{"line":81,"column":32},"generated":{"line":1,"column":1132}},{"source":"main.js","name":"title","original":{"line":81,"column":39},"generated":{"line":1,"column":1134}},{"source":"main.js","original":{"line":81,"column":46},"generated":{"line":1,"column":1140}},{"source":"main.js","name":"recipe","original":{"line":81,"column":58},"generated":{"line":1,"column":1151}},{"source":"main.js","name":"readyInMinutes","original":{"line":81,"column":65},"generated":{"line":1,"column":1153}},{"source":"main.js","name":"recipe","original":{"line":81,"column":91},"generated":{"line":1,"column":1178}},{"source":"main.js","name":"servings","original":{"line":81,"column":98},"generated":{"line":1,"column":1180}},{"source":"main.js","name":"recipe","original":{"line":81,"column":119},"generated":{"line":1,"column":1200}},{"source":"main.js","name":"image","original":{"line":81,"column":126},"generated":{"line":1,"column":1202}},{"source":"main.js","name":"recipe","original":{"line":81,"column":133},"generated":{"line":1,"column":1208}},{"source":"main.js","name":"sourceUrl","original":{"line":81,"column":140},"generated":{"line":1,"column":1210}},{"source":"main.js","name":"console","original":{"line":83,"column":4},"generated":{"line":1,"column":1223}},{"source":"main.js","name":"log","original":{"line":83,"column":12},"generated":{"line":1,"column":1231}},{"source":"main.js","name":"itemsHtml","original":{"line":83,"column":16},"generated":{"line":1,"column":1235}},{"source":"main.js","name":"$","original":{"line":84,"column":4},"generated":{"line":1,"column":1238}},{"source":"main.js","original":{"line":84,"column":6},"generated":{"line":1,"column":1240}},{"source":"main.js","name":"html","original":{"line":84,"column":15},"generated":{"line":1,"column":1249}},{"source":"main.js","name":"itemsHtml","original":{"line":84,"column":20},"generated":{"line":1,"column":1254}},{"source":"main.js","name":"displayRecipes","original":{"line":31,"column":4},"generated":{"line":1,"column":1257}},{"source":"main.js","name":"detailedRecipes","original":{"line":31,"column":19},"generated":{"line":1,"column":1258}},{"source":"main.js","name":"processRequest","original":{"line":13,"column":4},"generated":{"line":1,"column":1275}},{"source":"main.js","name":"newIngredient","original":{"line":13,"column":19},"generated":{"line":1,"column":1276}},{"source":"main.js","name":"displayIngredients","original":{"line":104,"column":11},"generated":{"line":1,"column":1279}},{"source":"main.js","name":"searchedItem","original":{"line":105,"column":10},"generated":{"line":1,"column":1290}},{"source":"main.js","name":"searchedItem","original":{"line":105,"column":10},"generated":{"line":1,"column":1296}},{"source":"main.js","name":"$","original":{"line":105,"column":25},"generated":{"line":1,"column":1298}},{"source":"main.js","original":{"line":105,"column":27},"generated":{"line":1,"column":1300}},{"source":"main.js","name":"val","original":{"line":105,"column":41},"generated":{"line":1,"column":1314}},{"source":"main.js","name":"console","original":{"line":106,"column":4},"generated":{"line":1,"column":1320}},{"source":"main.js","name":"log","original":{"line":106,"column":12},"generated":{"line":1,"column":1328}},{"source":"main.js","name":"searchedItem","original":{"line":106,"column":16},"generated":{"line":1,"column":1332}},{"source":"main.js","name":"$","original":{"line":107,"column":4},"generated":{"line":1,"column":1335}},{"source":"main.js","original":{"line":107,"column":6},"generated":{"line":1,"column":1337}},{"source":"main.js","name":"text","original":{"line":107,"column":12},"generated":{"line":1,"column":1343}},{"source":"main.js","name":"searchedItem","original":{"line":107,"column":17},"generated":{"line":1,"column":1348}},{"source":"main.js","name":"displayIngredients","original":{"line":14,"column":4},"generated":{"line":1,"column":1351}}],"sources":{"main.js":"$(function() {\n  console.log(\"Its working\");\n  // const url = \"https://api.spoonacular.com/recipes/search?query=\"\n  // const apiKey = \"&apiKey=502be8db956a4d2581735d3ceced3501&diet=vegan\"\n\n  $(\"button\").click(async () => {\n    console.log(\"button pushed\");\n\n    const newIngredient = $(\"#searchBar\").val();\n    console.log(newIngredient);\n    // const recipes = await getRecipes(newIngredient);\n    // displayRecipes(recipes)\n    processRequest(newIngredient)\n    displayIngredients()\n  });\n\n  async function processRequest(ingredient) {\n    const recipes = await getRecipes(ingredient);\n    console.log(recipes)\n\n    // We need to use Promise.all() using map() with promises\n    // see this post: https://futurestud.io/tutorials/node-js-how-to-run-an-asynchronous-function-in-array-map\n    detailedRecipes = await Promise.all(\n      recipes.map(async(recipe) => {\n        const newRecipe = await getRecipeDetail(recipe.id)\n        return newRecipe\n      })\n    )\n\n    console.log(detailedRecipes)\n    displayRecipes(detailedRecipes)\n  }\n\n  async function getRecipes(query) {\n    try {\n      const url = \"https://api.spoonacular.com/recipes/search\";\n\n      const response = await axios.get(url, {\n        params: {\n          query: query,\n          apiKey: process.env.SPOONACULAR_API_KEY,\n          diet: \"vegan\"\n        }\n      });\n      // const apiKey = \"&apiKey=502be8db956a4d2581735d3ceced3501&diet=vegan\"\n      // const response = await axios.get(`${url}${query}${apiKey}`)\n      // console.log(response.data.results);\n      return response.data.results\n\n      // return recipes.map(async(recipe) => {\n      //   return await getRecipeDetail(recipe.id)\n      // })\n      // console.log(response.data.results.title)\n    } catch (error) {\n      console.log(error);\n      alert(\"an error has occurred, please try again\");\n    }\n  }\n\n  async function getRecipeDetail (recipeId) {\n    try {\n      const url = `https://api.spoonacular.com/recipes/${recipeId}/information`;\n\n      const response = await axios.get(url, {\n        params: {\n          apiKey: process.env.SPOONACULAR_API_KEY,\n          includeNutrition: true\n        }\n      });\n      // console.log(response.data);\n      return response.data\n    } catch (error) {\n        console.log(error);\n        alert(\"an error has occurred, please try again\");\n    }\n  }\n\n  function displayRecipes (recipes) {\n    const itemsHtml = recipes.map((recipe) => {\n      console.log(recipe)\n      return recipeListItemHtml(recipe.title, \"vegan\", `${recipe.readyInMinutes} mins`, `${recipe.servings} servings`, recipe.image, recipe.sourceUrl)\n    })\n    console.log(itemsHtml)\n    $(\"tbody\").html(itemsHtml)\n  }\n\n  function recipeListItemHtml(name, diet, duration, servings, image, url) {\n    return (\n      `<tr>\n        <td> \n          <a href=\"${url}\">${name}</a>\n        </td>\n        <td>${diet}</td>\n        <td>${duration}</td>\n        <td>${servings}</td>\n        <td>\n          <img src=\"${image}\"/>\n        </td>\n      </tr>\n      `\n    )\n  }\n\n  function displayIngredients(){\n    const searchedItem = $('#searchbar').val()\n    console.log(searchedItem)\n    $(\"ul\").text(searchedItem)\n  }\n\n  \n});\n"},"lineCount":null}},"error":null,"hash":"c485c103e5980363d830a375234a89f3","cacheData":{"env":{"SPOONACULAR_API_KEY":"502be8db956a4d2581735d3ceced3501"}}}